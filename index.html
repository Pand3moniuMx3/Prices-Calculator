<!DOCTYPE html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">

        <title>Price Calculator</title>

        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="calculator-container">
            <form class="calculator">
                <label>Price calculator</label>
                <div class="list-item" data-target="sublist-1">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox1" data-price="0">
                        <span class="checkmark"></span>
                        <p class="sublabel">Booking Sites Management</p>
                    </label>
                </div>
                <div class="sub-list" id="sublist-1">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox"  data-price="80">
                            <span class="checkmark"></span>
                            <p class="sublabel">1 Booking Site</p>
                        </label>
                        <p>$80</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox"  data-price="200">
                            <span class="checkmark"></span>
                            <p class="sublabel">3-5 Booking Sites</p>
                        </label>
                        <p>$200</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox"  data-price="300">
                            <span class="checkmark"></span>
                            <p class="sublabel">5+ Booking Sites</p>
                        </label>
                        <p>$300</p>
                    </div>
                </div>

                <div class="list-item" data-target="sublist-2">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox2" data-price="0">
                        <span class="checkmark"></span>
                        <p class="sublabel">Custom Website</p>
                    </label>
                </div>
                <div class="sub-list" id="sublist-2">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox"  data-price="400">
                            <span class="checkmark"></span>
                            <p class="sublabel">CMS (1-3 pages)</p>
                        </label>
                        <p>$400</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox"  data-price="700">
                            <span class="checkmark"></span>
                            <p class="sublabel">CMS (3+ pages)</p>
                        </label>
                        <p>$700</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="1000">
                            <span class="checkmark"></span>
                            <p class="sublabel">HTML (1-3 pages)</p>
                        </label>
                        <p>$1000</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="1500">
                            <span class="checkmark"></span>
                            <p class="sublabel">HTML (3+ pages)</p>
                        </label>
                        <p>$1500</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="200">
                            <span class="checkmark"></span>
                            <p class="sublabel">On order photos</p>
                        </label>
                        <p>$200</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="200">
                            <span class="checkmark"></span>
                            <p class="sublabel">On order content</p>
                        </label>
                        <p>$200</p>
                    </div>
                </div>

                <div class="list-item" data-target="sublist-3">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox3" data-price="0">
                        <span class="checkmark"></span>
                        <p class="sublabel">GMB Management</p>
                    </label>
                </div>
                <div class="sub-list" id="sublist-3">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="50">
                            <span class="checkmark"></span>
                            <p class="sublabel">Basic info</p>
                        </label>
                        <p>$50</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="100">
                            <span class="checkmark"></span>
                            <p class="sublabel">Full setup</p>
                        </label>
                        <p>$100</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="100">
                            <span class="checkmark"></span>
                            <p class="sublabel">+ On order photos</p>
                        </label>
                        <p>$100</p>
                    </div>
                </div>

                <div class="list-item" data-target="sublist-4">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox4" data-price="0">
                        <span class="checkmark"></span>
                        <p class="sublabel">Email Campaigns</p>
                    </label>
                </div>
                <div class="sub-list" id="sublist-4">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="100">
                            <span class="checkmark"></span>
                            <p class="sublabel">One-time campaign</p>
                        </label>
                        <p>$100</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="200">
                            <span class="checkmark"></span>
                            <p class="sublabel">3+ campaigns</p>
                        </label>
                        <p>$200</p>
                    </div>
                </div>

                <div class="list-item">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox5" data-price="1000">
                        <span class="checkmark"></span>
                        <p class="sublabel">Facility Repairs</p>
                    </label>
                    <p>$1000</p>
                </div>

                <div class="list-item">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox6" data-price="400">
                        <span class="checkmark"></span>
                        <p class="sublabel">Tenant Management</p>
                    </label>
                    <p>$400</p>
                </div>

                <div class="list-item" data-target="sublist-7">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox7" data-price="0">
                        <span class="checkmark"></span>
                        <p class="sublabel">Cleaning</p>
                    </label>
                </div>
                <div class="sub-list" id="sublist-7">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="500">
                            <span class="checkmark"></span>
                            <p class="sublabel">Interior</p>
                        </label>
                        <p>$500</p>
                    </div>
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="500">
                            <span class="checkmark"></span>
                            <p class="sublabel">Exterior</p>
                        </label>
                        <p>$500</p>
                    </div>
                </div>

                <div class="list-item" data-target="sublist-8">
                    <label class="custom-checkbox">
                        <input type="checkbox" id="checkbox8" data-price="300">
                        <span class="checkmark"></span>
                        <p class="sublabel">Surveillance</p>
                    </label>
                    <p>$300</p>
                </div>
                <div class="sub-list" id="sublist-8">
                    <div class="sub-list-item">
                        <label class="custom-checkbox">
                            <input type="checkbox" data-price="400">
                            <span class="checkmark"></span>
                            <p class="sublabel">Entrance camera set-up</p>
                        </label>
                        <p>$400</p>
                    </div>
                </div>

                <div id="total-sum" class="calculator-number">Total: $0</div>
                <p>A 2% discount is applied for each subsequent service selected</p>
            </form>
        </div>
        <script scr="app.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
            // Main checkbox 1: Booking Sites Management
            const checkbox1 = document.querySelector('#checkbox1');
            const sublist1 = document.querySelector('#sublist-1');

            checkbox1.addEventListener('change', function() {
                sublist1.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist1.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            // Main checkbox 2: Custom Website
            const checkbox2 = document.querySelector('#checkbox2');
            const sublist2 = document.querySelector('#sublist-2');

            checkbox2.addEventListener('change', function() {
                sublist2.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist2.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            // Main checkbox 3: GMB Management
            const checkbox3 = document.querySelector('#checkbox3');
            const sublist3 = document.querySelector('#sublist-3');

            checkbox3.addEventListener('change', function() {
                sublist3.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist3.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            // Main checkbox 4: Email Campaigns
            const checkbox4 = document.querySelector('#checkbox4');
            const sublist4 = document.querySelector('#sublist-4');

            checkbox4.addEventListener('change', function() {
                sublist4.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist4.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            // Main checkbox 7: Cleaning
            const checkbox7 = document.querySelector('#checkbox7');
            const sublist7 = document.querySelector('#sublist-7');

            checkbox7.addEventListener('change', function() {
                sublist7.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist7.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            // Main checkbox 8: Surveillance
            const checkbox8 = document.querySelector('#checkbox8');
            const sublist8 = document.querySelector('#sublist-8');

            checkbox8.addEventListener('change', function() {
                sublist8.style.display = this.checked ? 'block' : 'none';
                if (!this.checked) {
                    const subCheckboxes = sublist8.querySelectorAll('input[type="checkbox"]');
                    subCheckboxes.forEach(subCheckbox => subCheckbox.checked = false);
                }
                updateTotalSum();
            });

            const checkboxes = document.querySelectorAll('.calculator input[type="checkbox"]');
            const totalSumElement = document.getElementById('total-sum');
            
            // Function to calculate total sum
            function updateTotalSum() {
                let total = 0;
                let discountCount = 0;

                checkboxes.forEach(checkbox => {
                    if (checkbox.checked && checkbox.hasAttribute('data-price')) {
                        const price = parseFloat(checkbox.getAttribute('data-price'));
                        if (!isNaN(price)) {
                            total += price;
                            if (price > 0) {
                                discountCount++;
                            }
                        }
                    }
                });

                // Apply 2% discount starting from the second applicable checkbox
                let discount = 0;
                if (discountCount > 1) { // Start discounting from the second checkbox
                    discount = (total * 0.02) * (discountCount - 1);
                }
                total -= discount;

                // Update total sum element
                if (totalSumElement) {
                    totalSumElement.textContent = `Total: $${total.toFixed(2)}`;
                }
            }

            // Add change event listeners to checkboxes
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateTotalSum);
            });

            // Initial calculation of total sum on page load
            updateTotalSum();
        });
        </script>
    </body>
</html>